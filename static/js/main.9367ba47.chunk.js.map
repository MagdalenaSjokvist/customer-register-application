{"version":3,"sources":["contexts/UserContext.js","styles/GlobalStyles.js","data/UserKit.js","components/LayoutBasic.jsx","pages/RegisterPage.jsx","pages/LoginPage.jsx","pages/UserHomePage.jsx","pages/CustomerDetailPage.jsx","App.js","serviceWorker.js","index.js"],"names":["UserContext","createContext","GlobalStyles","createGlobalStyle","ROOT_URL","API_URL","AUTH_URL","firstName","lastName","email","password","organisationName","organisationKind","url","payload","fetch","method","headers","this","getPublicHeaders","body","JSON","stringify","uid","token","getPrivateHeaders","name","organisationNr","vatNr","reference","paymentTerm","website","phoneNumber","customerId","localStorage","setItem","getItem","removeItem","Authorization","getToken","AppWrapper","styled","div","NavBar","nav","NavLoggedIn","NavLoggedOut","NavLink","li","ActiveUser","p","MainWrapper","main","Footer","footer","SocialMediaWrapper","SocialMediaLink","a","Logo","LayoutBasic","children","useContext","activeUser","setActiveUser","userKit","UserKit","history","useHistory","useEffect","getActiveUser","then","response","json","data","to","onClick","deleteToken","push","window","location","reload","className","href","RegisterForm","form","InputLabel","label","RegisterPage","useState","setFirstName","setLastName","setEmail","setPassword","setOrganisationName","setOrganisationKind","inputFieldsArray","map","inputField","index","key","type","placeholder","value","onChange","event","target","renderInputFields","registerAccount","alert","ActivateWrapper","ActivateButton","button","LoginWrapper","LoginPage","urlParameters","URLSearchParams","search","get","setUid","setToken","loginEmail","setLoginEmail","loginPassword","setLoginPassword","activateAccount","e","login","res","CreateCustomerForm","CustomersContainer","CustomerButton","UserHomePage","customerList","setCustomerList","setName","setOrganisationNr","setVatNr","setReference","setPaymentTerm","setWebsite","setPhoneNumber","handleGetCustomerList","getCustomerList","results","customerItem","id","createCustomer","CustomerDetailContainer","CustomerDetailPage","props","match","params","customerDetails","setCustomerDetails","fetchCustomerDetails","console","log","deleteCustomer","App","Provider","path","render","Boolean","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.9367ba47.chunk.js","sourcesContent":["import { createContext } from \"react\"\r\n\r\nexport const UserContext = createContext({})\r\n","import { createGlobalStyle } from \"styled-components\"\r\n\r\nexport const GlobalStyles = createGlobalStyle`\r\n* {\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n  font-family: 'Poppins', sans-serif;\r\n}\r\n\r\n\r\n\r\nh1 {\r\n  font-size: 1.7rem;\r\n  margin: 2vh 0 3vh 0;\r\n  text-align:center;\r\n}\r\n\r\nh2 {\r\n  font-size: 1.5rem;\r\n  margin: 2vh 0 3vh 0;\r\n  text-align: center;\r\n\r\n}\r\n\r\nh3 {\r\n  font-size: 0.9rem;\r\n  margin: 2vh 0;\r\n\r\n}\r\n\r\np {\r\n  font-size: 12px;\r\n}\r\n\r\na {\r\n  text-decoration: none;\r\n  color: white;\r\n}\r\n\r\nbutton {\r\n  cursor: pointer;\r\n  padding: 0.5rem;\r\n  max-width: 150px;\r\n  margin-top: 0.8rem; \r\n  margin-bottom: 0.8rem;\r\n  margin-right: 0.4rem;\r\n  font-size: 0.8rem;\r\n  border: none;\r\n  border-radius: 3px;\r\n  color: white;\r\n  background: #3B628C;\r\n}\r\n\r\nlabel{\r\n  font-size: 0.8rem;\r\n  width: 100%;\r\n}\r\n\r\ninput {\r\n  height: 32px;\r\n  width: 100%;\r\n  min-width: 200px;\r\n  margin: 0.2rem 0 0.5rem 0 ;\r\n  border: none;\r\n  border-radius: 3px;\r\n  background: white;\r\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.1), 0 2px 8px 0 rgba(0, 0, 0, 0.1);\r\n}\r\n\r\ntable {\r\n  border-collapse: collapse;\r\n  text-align: left;\r\n  width: 40vw;\r\n  min-width: 350px;\r\n}\r\n\r\nthead{\r\n  background-color: #3B628C;\r\n  color: white;\r\n  height: 60px;\r\n}\r\n\r\ntr {\r\n  height: 20px;\r\n  font-size: small;\r\n  \r\n}\r\n\r\nth, td {\r\n  width: 80px;\r\n  padding: 0.3rem;\r\n  font-size: smaller;\r\n}\r\n`\r\n","const ROOT_URL = \"https://frebi.willandskill.eu/\"\r\nconst API_URL = `${ROOT_URL}api/v1/`\r\nconst AUTH_URL = `${ROOT_URL}auth/`\r\nconst LOGIN_URL = `${ROOT_URL}api-token-auth/`\r\n// `${ROOT_URL}api/v1/customers`\r\n// `${ROOT_URL}auth/users/activate/`\r\n//  //om du vill ha en specifik customer så kan du använda ID:et\r\n//som API:et skapar som :id och hämta aktuella med `${ROOT_URL}api/v1/customers/${id}/`\r\n// `${ROOT_URL}api/v1/customers/${id}/`\r\n\r\nexport default class {\r\n\tasync registerAccount(\r\n\t\tfirstName,\r\n\t\tlastName,\r\n\t\temail,\r\n\t\tpassword,\r\n\t\torganisationName,\r\n\t\torganisationKind\r\n\t) {\r\n\t\tconst url = `${AUTH_URL}users/`\r\n\t\tconst payload = {\r\n\t\t\tfirstName,\r\n\t\t\tlastName,\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t\torganisationName,\r\n\t\t\torganisationKind,\r\n\t\t}\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: this.getPublicHeaders(),\r\n\t\t\tbody: JSON.stringify(payload),\r\n\t\t})\r\n\t}\r\n\r\n\tasync activateAccount(uid, token) {\r\n\t\tconst url = `${ROOT_URL}auth/users/activate/`\r\n\t\tconst payload = {\r\n\t\t\tuid,\r\n\t\t\ttoken,\r\n\t\t}\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: this.getPublicHeaders(),\r\n\t\t\tbody: JSON.stringify(payload),\r\n\t\t})\r\n\t}\r\n\r\n\tasync login(email, password) {\r\n\t\tconst url = `${ROOT_URL}api-token-auth/`\r\n\t\tconst payload = {\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t}\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: this.getPublicHeaders(),\r\n\t\t\tbody: JSON.stringify(payload),\r\n\t\t})\r\n\t}\r\n\r\n\tasync getActiveUser() {\r\n\t\tconst url = `${API_URL}me`\r\n\t\treturn fetch(url, {\r\n\t\t\theaders: this.getPrivateHeaders(),\r\n\t\t})\r\n\t}\r\n\r\n\tasync getCustomerList() {\r\n\t\tconst url = `${API_URL}customers`\r\n\t\treturn fetch(url, {\r\n\t\t\theaders: this.getPrivateHeaders(),\r\n\t\t})\r\n\t}\r\n\r\n\tasync createCustomer(\r\n\t\tname,\r\n\t\torganisationNr,\r\n\t\tvatNr,\r\n\t\treference,\r\n\t\tpaymentTerm,\r\n\t\twebsite,\r\n\t\temail,\r\n\t\tphoneNumber\r\n\t) {\r\n\t\tconst url = `${API_URL}customers`\r\n\t\tconst payload = {\r\n\t\t\tname,\r\n\t\t\torganisationNr,\r\n\t\t\tvatNr,\r\n\t\t\treference,\r\n\t\t\tpaymentTerm,\r\n\t\t\twebsite,\r\n\t\t\temail,\r\n\t\t\tphoneNumber,\r\n\t\t}\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: this.getPrivateHeaders(),\r\n\t\t\tbody: JSON.stringify(payload),\r\n\t\t})\r\n\t}\r\n\r\n\tasync fetchCustomerDetails(customerId) {\r\n\t\tconst url = `${API_URL}customers/${customerId}/`\r\n\t\treturn fetch(url, {\r\n\t\t\theaders: this.getPrivateHeaders(),\r\n\t\t})\r\n\t}\r\n\r\n\tasync deleteCustomer(customerId) {\r\n\t\tconst url = `${API_URL}customers/${customerId}/`\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: \"DELETE\",\r\n\t\t\theaders: this.getPrivateHeaders(),\r\n\t\t})\r\n\t}\r\n\r\n\tasync updateCustomer(\r\n\t\tcustomerId,\r\n\t\tname,\r\n\t\torganisationNr,\r\n\t\tvatNr,\r\n\t\treference,\r\n\t\tpaymentTerm,\r\n\t\twebsite,\r\n\t\temail,\r\n\t\tphoneNumber\r\n\t) {\r\n\t\tconst url = `${API_URL}customers/${customerId}/`\r\n\t\tconst payload = {\r\n\t\t\tname,\r\n\t\t\torganisationNr,\r\n\t\t\tvatNr,\r\n\t\t\treference,\r\n\t\t\tpaymentTerm,\r\n\t\t\twebsite,\r\n\t\t\temail,\r\n\t\t\tphoneNumber,\r\n\t\t}\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: \"PUT\",\r\n\t\t\theaders: this.getPrivateHeaders(),\r\n\t\t\tbody: JSON.stringify(payload),\r\n\t\t})\r\n\t}\r\n\r\n\tsetToken(token) {\r\n\t\tlocalStorage.setItem(\"BUSINESS_TOKEN\", token)\r\n\t}\r\n\r\n\tgetToken() {\r\n\t\treturn localStorage.getItem(\"BUSINESS_TOKEN\")\r\n\t}\r\n\r\n\tdeleteToken() {\r\n\t\tlocalStorage.removeItem(\"BUSINESS_TOKEN\")\r\n\t}\r\n\r\n\t//Genom att skriva ut header (Content-Type) med en funktion minskar risken att vi skriver fel (om vi skriver fler det gånger)\r\n\tgetPublicHeaders() {\r\n\t\treturn {\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t}\r\n\t}\r\n\r\n\tgetPrivateHeaders() {\r\n\t\treturn {\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${this.getToken()}`,\r\n\t\t}\r\n\t}\r\n}\r\n","import React, { useContext, useEffect } from \"react\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { UserContext } from \"../contexts/UserContext\"\r\nimport UserKit from \"../data/UserKit\"\r\nimport styled from \"styled-components\"\r\n\r\nconst AppWrapper = styled.div`\r\n\tbackground: #c0e3f0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\theight: 100%;\r\n`\r\nconst NavBar = styled.nav`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\tpadding: 2rem;\r\n\tbackground: #3b628c;\r\n\theight: 90px;\r\n\tcolor: white;\r\n`\r\nconst NavLoggedIn = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tjustify-content: space-between;\r\n\talign-content: center;\r\n`\r\nconst NavLoggedOut = styled(NavLoggedIn)``\r\n\r\nconst NavLink = styled.li`\r\n\tdisplay: inline-block;\r\n\tlist-style: none;\r\n\tfont-size: 16px;\r\n\tfont-weight: bold;\r\n\tpadding-left: 1rem;\r\n`\r\nconst ActiveUser = styled.p`\r\n\ttext-align: right;\r\n\tfont-size: 10px;\r\n\tmargin-bottom: 0.3rem;\r\n`\r\nconst MainWrapper = styled.main`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tpadding: 3rem;\r\n`\r\nconst Footer = styled.footer`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\theight: 160px;\r\n\tpadding: 1rem;\r\n\tmargin-top: 10vh;\r\n\tbackground: #3b628c;\r\n\tcolor: white;\r\n\tfont-size: 14px;\r\n`\r\nconst SocialMediaWrapper = styled.div`\r\n\tmargin-top: 0.5rem;\r\n`\r\nconst SocialMediaLink = styled.a`\r\n\tfont-size: 24px;\r\n\tpadding: 0.4rem;\r\n`\r\nconst Logo = styled.p`\r\n\tfont-size: 14px;\r\n`\r\n\r\nexport default function LayoutBasic({ children }) {\r\n\tconst { activeUser, setActiveUser } = useContext(UserContext)\r\n\tconst userKit = new UserKit()\r\n\tconst token = userKit.getToken()\r\n\tconst history = useHistory()\r\n\r\n\tfunction fetchActiveUser() {\r\n\t\tuserKit\r\n\t\t\t.getActiveUser()\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((data) => setActiveUser(data))\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchActiveUser()\r\n\t}, [])\r\n\r\n\tfunction handleLogOut() {\r\n\t\tuserKit.deleteToken()\r\n\t\thistory.push(\"/login\")\r\n\t\twindow.location.reload()\r\n\t}\r\n\r\n\treturn (\r\n\t\t<AppWrapper>\r\n\t\t\t<NavBar>\r\n\t\t\t\t{token && <ActiveUser>Inloggad som: {activeUser.email}</ActiveUser>}\r\n\t\t\t\t{!token ? (\r\n\t\t\t\t\t<NavLoggedOut>\r\n\t\t\t\t\t\t<Logo>My business AB</Logo>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<NavLink>\r\n\t\t\t\t\t\t\t\t<Link to=\"/\">HEM</Link>\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t<NavLink>\r\n\t\t\t\t\t\t\t\t<Link to=\"/login\">LOGGA IN</Link>\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</NavLoggedOut>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<NavLoggedIn>\r\n\t\t\t\t\t\t<Logo>My business AB</Logo>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<NavLink>\r\n\t\t\t\t\t\t\t\t<Link to=\"/home\">MINA KUNDER</Link>\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t<NavLink>\r\n\t\t\t\t\t\t\t\t<Link to=\"/login\" onClick={handleLogOut}>\r\n\t\t\t\t\t\t\t\t\tLOGGA UT\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</NavLoggedIn>\r\n\t\t\t\t)}\r\n\t\t\t</NavBar>\r\n\t\t\t<MainWrapper>{children}</MainWrapper>\r\n\t\t\t<Footer>\r\n\t\t\t\t<Logo>My business AB</Logo>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<i className=\"fa fa-map-marker\"></i> Klippgatan 8A, Solna\r\n\t\t\t\t</p>\r\n\r\n\t\t\t\t<SocialMediaWrapper>\r\n\t\t\t\t\t<SocialMediaLink href=\"mailto:magdalena.sjokvist@gmail.com\">\r\n\t\t\t\t\t\t<i className=\"fa fa-envelope-o\"></i>\r\n\t\t\t\t\t</SocialMediaLink>\r\n\t\t\t\t\t<SocialMediaLink href=\"https://www.linkedin.com/in/magdalenasjokvist/\">\r\n\t\t\t\t\t\t<i className=\"fa fa-linkedin-square\"></i>\r\n\t\t\t\t\t</SocialMediaLink>\r\n\t\t\t\t\t<SocialMediaLink href=\"https://www.linkedin.com/in/magdalenasjokvist/\">\r\n\t\t\t\t\t\t<i className=\"fa fa-facebook\"></i>\r\n\t\t\t\t\t</SocialMediaLink>\r\n\t\t\t\t</SocialMediaWrapper>\r\n\t\t\t</Footer>\r\n\t\t</AppWrapper>\r\n\t)\r\n}\r\n","import React, { useState } from \"react\"\r\nimport UserKit from \"../data/UserKit\"\r\nimport styled from \"styled-components\"\r\n\r\nconst RegisterForm = styled.form`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n`\r\n\r\nconst InputLabel = styled.label`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tmargin-bottom: 5px;\r\n\twidth: 35vw;\r\n\tmin-width: 200px;\r\n`\r\nexport default function RegisterPage() {\r\n\tconst [firstName, setFirstName] = useState(\"\")\r\n\tconst [lastName, setLastName] = useState(\"\")\r\n\tconst [email, setEmail] = useState(\"\")\r\n\tconst [password, setPassword] = useState(\"\")\r\n\tconst [organisationName, setOrganisationName] = useState(\"\")\r\n\tconst [organisationKind, setOrganisationKind] = useState(\"\")\r\n\tconst userKit = new UserKit()\r\n\r\n\t//RENDERA UT INPUTFÄLT FÖR REGISTRERING\r\n\tconst inputFieldsArray = [\r\n\t\t[\"Förnamn\", \"text\", \"\", firstName, setFirstName],\r\n\t\t[\"Efternamn\", \"text\", \"\", lastName, setLastName],\r\n\t\t[\"E-post\", \"email\", \"Ex. info@mail.se\", email, setEmail],\r\n\t\t[\"Lösenord\", \"password\", \"Minst 8 tecken\", password, setPassword],\r\n\t\t[\"Organisationsnamn\", \"text\", \"\", organisationName, setOrganisationName],\r\n\t\t[\r\n\t\t\t\"Organisationstyp\",\r\n\t\t\t\"text\",\r\n\t\t\t\"Välj 0, 1 eller 2\",\r\n\t\t\torganisationKind,\r\n\t\t\tsetOrganisationKind,\r\n\t\t],\r\n\t]\r\n\tconst renderInputFields = (inputFieldsArray) => {\r\n\t\t// console.log(inputFieldsArray)\r\n\t\treturn inputFieldsArray.map((inputField, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<InputLabel key={index}>\r\n\t\t\t\t\t{inputField[0]}\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype={inputField[1]}\r\n\t\t\t\t\t\tplaceholder={inputField[2]}\r\n\t\t\t\t\t\tvalue={inputField[3]}\r\n\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\tinputField[4](event.target.value)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</InputLabel>\r\n\t\t\t)\r\n\t\t})\r\n\t}\r\n\r\n\t//REGISTRERA KONTO\r\n\tfunction handleRegisterAccount() {\r\n\t\tuserKit\r\n\t\t\t.registerAccount(\r\n\t\t\t\tfirstName,\r\n\t\t\t\tlastName,\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\torganisationName,\r\n\t\t\t\torganisationKind\r\n\t\t\t)\r\n\t\t\t.then(\r\n\t\t\t\tsetFirstName(\"\"),\r\n\t\t\t\tsetLastName(\"\"),\r\n\t\t\t\tsetEmail(\"\"),\r\n\t\t\t\tsetPassword(\"\"),\r\n\t\t\t\tsetOrganisationName(\"\"),\r\n\t\t\t\tsetOrganisationKind(\"\")\r\n\t\t\t)\r\n\t\t\t.then(\r\n\t\t\t\talert(\r\n\t\t\t\t\t\"Tack för din registrering! Du får strax ett bekräftelsemejl med en länk. Klicka på länken för att aktivera ditt konto.\"\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Registrera dig</h1>\r\n\t\t\t<RegisterForm>\r\n\t\t\t\t{renderInputFields(inputFieldsArray)}\r\n\t\t\t\t<button onClick={handleRegisterAccount}>Registrera dig</button>\r\n\t\t\t</RegisterForm>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useState } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport UserKit from \"../data/UserKit\"\r\nimport styled from \"styled-components\"\r\n\r\nconst ActivateWrapper = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n`\r\nconst ActivateButton = styled.button`\r\n\tmargin: 1.5rem;\r\n\theight: 50px;\r\n\twidth: 50%;\r\n\tmax-width: 400px;\r\n`\r\nconst LoginWrapper = styled.div`\r\n\twidth: 35vw;\r\n\tmin-width: 200px;\r\n\theight: 45vh;\r\n`\r\nconst InputLabel = styled.label`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tmargin-bottom: 5px;\r\n\twidth: 100%;\r\n`\r\n\r\nexport default function LoginPage() {\r\n\tconst history = useHistory()\r\n\tconst urlParameters = new URLSearchParams(history.location.search) // Use URL Search Params to parse the query parameters from the url\r\n\tconst [uid, setUid] = useState(urlParameters.get(\"uid\"))\r\n\tconst [token, setToken] = useState(urlParameters.get(\"token\"))\r\n\t// const uid = params.get(\"uid\")\r\n\t// const token = params.get(\"token\")\r\n\r\n\tconst [loginEmail, setLoginEmail] = useState(\"\")\r\n\tconst [loginPassword, setLoginPassword] = useState(\"\")\r\n\r\n\t//Skapa ny instans av klassen UserKit\r\n\tconst userKit = new UserKit()\r\n\r\n\t//AKTIVERA KONTO\r\n\tfunction handleActivateAccount() {\r\n\t\tuserKit.activateAccount(uid, token).then(() => {\r\n\t\t\tsetUid(null)\r\n\t\t\tsetToken(null)\r\n\t\t\thistory.push(\"/login\") //Så snart activateUser är klar - skicka användaren till /login\r\n\t\t})\r\n\t}\r\n\r\n\t//LOGGA IN\r\n\tfunction handleLogin() {\r\n\t\tuserKit\r\n\t\t\t.login(loginEmail, loginPassword)\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.then((data) => {\r\n\t\t\t\tuserKit.setToken(data.token)\r\n\t\t\t\thistory.push(\"/home\")\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* Om uid och token finns - rendera ut första diven, annars rendera ut den andra diven */}\r\n\t\t\t{uid && token ? (\r\n\t\t\t\t<ActivateWrapper>\r\n\t\t\t\t\t<h1>Aktivera ditt konto</h1>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tKlicka på knappen nedan för att aktivera ditt konto och logga in.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<ActivateButton onClick={handleActivateAccount}>\r\n\t\t\t\t\t\tAktivera ditt konto nu <i className=\"\tfa fa-check\"></i>\r\n\t\t\t\t\t</ActivateButton>\r\n\t\t\t\t</ActivateWrapper>\r\n\t\t\t) : (\r\n\t\t\t\t<LoginWrapper>\r\n\t\t\t\t\t<h1>Logga in</h1>\r\n\t\t\t\t\t<InputLabel>\r\n\t\t\t\t\t\tE-post\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tplaceholder=\"Ex. info@mail.se\"\r\n\t\t\t\t\t\t\tvalue={loginEmail}\r\n\t\t\t\t\t\t\tonChange={(e) => setLoginEmail(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t<InputLabel>\r\n\t\t\t\t\t\tLösenord\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tplaceholder=\"Lösenord\"\r\n\t\t\t\t\t\t\tvalue={loginPassword}\r\n\t\t\t\t\t\t\tonChange={(e) => setLoginPassword(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t<button onClick={handleLogin}>Logga in</button>\r\n\t\t\t\t</LoginWrapper>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\"\r\nimport UserKit from \"../data/UserKit\"\r\nimport styled from \"styled-components\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { UserContext } from \"../contexts/UserContext\"\r\n\r\nconst CreateCustomerForm = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n`\r\nconst InputLabel = styled.label`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tmargin-bottom: 5px;\r\n\tmax-width: 700px;\r\n`\r\nconst CustomersContainer = styled.div`\r\n\tbackground: white;\r\n\tpadding: 1.5rem;\r\n\tmargin: 2rem 0;\r\n\tborder-radius: 5px;\r\n`\r\n\r\nconst CustomerButton = styled.button`\r\n\twidth: 100%;\r\n`\r\n\r\nexport default function UserHomePage() {\r\n\tconst { activeUser } = useContext(UserContext)\r\n\tconst [customerList, setCustomerList] = useState(\"\")\r\n\tconst history = useHistory()\r\n\r\n\t//State variables for creating new customer\r\n\tconst [name, setName] = useState(\"\")\r\n\tconst [organisationNr, setOrganisationNr] = useState(\"\")\r\n\tconst [vatNr, setVatNr] = useState(\"\")\r\n\tconst [reference, setReference] = useState(\"\")\r\n\tconst [paymentTerm, setPaymentTerm] = useState(\"\")\r\n\tconst [website, setWebsite] = useState(\"\")\r\n\tconst [email, setEmail] = useState(\"\")\r\n\tconst [phoneNumber, setPhoneNumber] = useState(\"\")\r\n\r\n\t//Skapa ny instans av klassen UserKit\r\n\tconst userKit = new UserKit()\r\n\r\n\t//RENDERA UT INPUTFÄLT FÖR ATT SKAPA NY KUND\r\n\tconst inputFieldsArray = [\r\n\t\t[\"Namn\", \"text\", \"\", name, setName],\r\n\t\t[\r\n\t\t\t\"Organisationsnummer\",\r\n\t\t\t\"text\",\r\n\t\t\t\"XXXXXX-XXXX\",\r\n\t\t\torganisationNr,\r\n\t\t\tsetOrganisationNr,\r\n\t\t],\r\n\t\t[\"VAT-nummer\", \"text\", \"Ex: SE1234567890\", vatNr, setVatNr],\r\n\t\t[\"Referens\", \"text\", \"\", reference, setReference],\r\n\t\t[\r\n\t\t\t\"Betalningsvillkor\",\r\n\t\t\t\"text\",\r\n\t\t\t\"Ange antal dagar\",\r\n\t\t\tpaymentTerm,\r\n\t\t\tsetPaymentTerm,\r\n\t\t],\r\n\t\t[\"Webb\", \"text\", \"\", website, setWebsite],\r\n\t\t[\"E-post\", \"email\", \"\", email, setEmail],\r\n\t\t[\"Telefon\", \"text\", \"\", phoneNumber, setPhoneNumber],\r\n\t]\r\n\r\n\tconst renderInputFields = (inputFieldsArray) => {\r\n\t\t// console.log(inputFieldsArray)\r\n\t\treturn inputFieldsArray.map((inputField, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<InputLabel key={index}>\r\n\t\t\t\t\t{inputField[0]}\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype={inputField[1]}\r\n\t\t\t\t\t\tplaceholder={inputField[2]}\r\n\t\t\t\t\t\tvalue={inputField[3]}\r\n\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\tinputField[4](event.target.value)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</InputLabel>\r\n\t\t\t)\r\n\t\t})\r\n\t}\r\n\r\n\t//SE BEFINTLIGA KUNDER\r\n\tfunction handleGetCustomerList() {\r\n\t\tuserKit\r\n\t\t\t.getCustomerList()\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.then((data) => {\r\n\t\t\t\tsetCustomerList(data.results)\r\n\t\t\t})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\thandleGetCustomerList()\r\n\t}, [])\r\n\r\n\t//SKAPA NY KUND\r\n\tfunction handleCreateCustomer() {\r\n\t\tuserKit\r\n\t\t\t.createCustomer(\r\n\t\t\t\tname,\r\n\t\t\t\torganisationNr,\r\n\t\t\t\tvatNr,\r\n\t\t\t\treference,\r\n\t\t\t\tpaymentTerm,\r\n\t\t\t\twebsite,\r\n\t\t\t\temail,\r\n\t\t\t\tphoneNumber\r\n\t\t\t)\r\n\t\t\t.then(handleGetCustomerList())\r\n\t\t\t.then(\r\n\t\t\t\tsetName(\"\"),\r\n\t\t\t\tsetOrganisationNr(\"\"),\r\n\t\t\t\tsetVatNr(\"\"),\r\n\t\t\t\tsetReference(\"\"),\r\n\t\t\t\tsetPaymentTerm(\"\"),\r\n\t\t\t\tsetWebsite(\"\"),\r\n\t\t\t\tsetEmail(\"\"),\r\n\t\t\t\tsetPhoneNumber(\"\")\r\n\t\t\t)\r\n\t\t\t.then(window.location.reload())\r\n\t\t\t.then(history.push(\"/home\"))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>\r\n\t\t\t\tVälkommen {activeUser.firstName} {activeUser.lastName}\r\n\t\t\t</h2>\r\n\t\t\t<CustomersContainer>\r\n\t\t\t\t<h3>Mina kunder</h3>\r\n\t\t\t\t{customerList == \"\" ? (\r\n\t\t\t\t\t<p>Du har inte lagt till några kunder än.</p>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Namn</th>\r\n\t\t\t\t\t\t\t\t<th>Org.nr</th>\r\n\t\t\t\t\t\t\t\t<th>Referens</th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{customerList &&\r\n\t\t\t\t\t\t\t\tcustomerList.map((customerItem, index) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{customerItem.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{customerItem.organisationNr}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{customerItem.reference}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/customer/${customerItem.id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CustomerButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tMer info{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-angle-double-right\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</CustomerButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t)}\r\n\t\t\t</CustomersContainer>\r\n\t\t\t<CreateCustomerForm>\r\n\t\t\t\t<h3>Lägg till en ny kund</h3>\r\n\t\t\t\t{renderInputFields(inputFieldsArray)}\r\n\t\t\t\t<button onClick={handleCreateCustomer}>Lägg till</button>\r\n\t\t\t</CreateCustomerForm>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from \"react\"\r\nimport UserKit from \"../data/UserKit\"\r\nimport styled from \"styled-components\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\n\r\nconst CustomerDetailContainer = styled.div`\r\n\tbackground: white;\r\n\tpadding: 1.5rem;\r\n\tmargin: 2rem 0;\r\n\tborder-radius: 5px;\r\n\twidth: 50vw;\r\n\tmin-width: 350px;\r\n\tpadding: 2rem 3rem;\r\n`\r\nconst UpdateCustomerForm = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n`\r\nconst InputLabel = styled.label`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tmargin-bottom: 5px;\r\n\tmax-width: 700px;\r\n`\r\n\r\nexport default function CustomerDetailPage(props) {\r\n\tconst customerId = props.match.params.id\r\n\tconst [customerDetails, setCustomerDetails] = useState(\"\")\r\n\tconst history = useHistory()\r\n\tconst userKit = new UserKit()\r\n\r\n\tfunction handleGetCustomerDetails() {\r\n\t\tuserKit\r\n\t\t\t.fetchCustomerDetails(customerId)\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.then((data) => {\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tsetCustomerDetails(data)\r\n\t\t\t})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\thandleGetCustomerDetails()\r\n\t}, [])\r\n\r\n\tfunction handleDeleteCustomer() {\r\n\t\tuserKit\r\n\t\t\t.deleteCustomer(customerId)\r\n\t\t\t.then(history.push(\"/home\"))\r\n\t\t\t.then(userKit.getCustomerList())\r\n\t}\r\n\r\n\t// function handleUpdateCustomer() {\r\n\t// \tconsole.log(\"uppdatera kunduppgifter\")\r\n\t// \tconsole.log(customerDetails.vatNr)\r\n\t// \tuserKit.updateCustomer(customerId).then(userKit.getCustomerList())\r\n\t// }\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Kunddetaljer </h1>\r\n\t\t\t<CustomerDetailContainer>\r\n\t\t\t\t<h3>{customerDetails.name}</h3>\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Organisationsnr: </td>\r\n\t\t\t\t\t\t\t<td>{customerDetails.organisationNr}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>VAT-nr:</td>\r\n\t\t\t\t\t\t\t<td>{customerDetails.vatNr}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Referens:</td>\r\n\t\t\t\t\t\t\t<td>{customerDetails.reference}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Betalningsvillkor:</td>\r\n\t\t\t\t\t\t\t<td>{customerDetails.paymentTerm} dagar</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Webb:</td>\r\n\t\t\t\t\t\t\t<td>{customerDetails.website}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Telefon:</td>\r\n\t\t\t\t\t\t\t<td>{customerDetails.phoneNumber}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t\t<Link to=\"/home\">\r\n\t\t\t\t\t<button>\r\n\t\t\t\t\t\t<i className=\"fa fa-angle-double-left\"></i> Tillbaka\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<button onClick={handleDeleteCustomer}>Ta bort</button>\r\n\t\t\t\t{/* <button onClick={handleUpdateCustomer}>Redigera</button> */}\r\n\t\t\t</CustomerDetailContainer>\r\n\r\n\t\t\t{/* <UpdateCustomerForm>\r\n\t\t\t\t<h3>Uppdatera kunduppgifter</h3>\r\n\t\t\t\t{renderInputFields(inputFieldsArray)}\r\n\t\t\t\t<button onClick={handleUpdateCustomer}>Uppdatera</button>\r\n\t\t\t</UpdateCustomerForm> */}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useState } from \"react\"\nimport styled from \"styled-components\"\nimport { Route, Switch } from \"react-router-dom\"\nimport { UserContext } from \"./contexts/UserContext\"\nimport { GlobalStyles } from \"./styles/GlobalStyles\"\nimport LayoutBasic from \"./components/LayoutBasic\"\nimport RegisterPage from \"./pages/RegisterPage\"\nimport LoginPage from \"./pages/LoginPage\"\nimport UserHomePage from \"./pages/UserHomePage\"\nimport CustomerDetailPage from \"./pages/CustomerDetailPage\"\n\nconst AppContainer = styled.div`\n\tpadding: 2rem;\n\tbackground: #c0e3f0;\n\tdisplay: flex;\n\tjustify-content: center;\n\theight: 100%;\n`\n\nfunction App() {\n\tconst [activeUser, setActiveUser] = useState(\"\")\n\n\treturn (\n\t\t<div>\n\t\t\t<GlobalStyles />\n\t\t\t<UserContext.Provider value={{ activeUser, setActiveUser }}>\n\t\t\t\t<LayoutBasic>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/customer/:id\"\n\t\t\t\t\t\t\trender={(props) => <CustomerDetailPage {...props} />}\n\t\t\t\t\t\t></Route>\n\n\t\t\t\t\t\t<Route path=\"/home\">\n\t\t\t\t\t\t\t<UserHomePage />\n\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t<Route path=\"/login\">\n\t\t\t\t\t\t\t<LoginPage />\n\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t\t\t<RegisterPage />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\t\t\t\t</LayoutBasic>\n\t\t\t</UserContext.Provider>\n\t\t</div>\n\t)\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\"\nimport { HashRouter } from \"react-router-dom\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport * as serviceWorker from \"./serviceWorker\"\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<HashRouter>\n\t\t\t<App />\n\t\t</HashRouter>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}